<!DOCTYPE html>
<html style="height: 100%">
<head>
  <meta charset="utf-8">
</head>
<body style="height: 100%; margin: 0">
<div id="container" style="height: 100%"></div>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts.min.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-gl/echarts-gl.min.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-stat/ecStat.min.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/dataTool.min.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/china.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/world.js"></script>
<script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=ZUONbpqGBsYGXNIYHicvbAbM"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/bmap.min.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/simplex.js"></script>
<script type="text/javascript">
  var dom = document.getElementById("container");
  var myChart = echarts.init(dom);
  var app = {};
  option = null;

  // Generate data.
  let data = [];
  // for (var seriesIndex = 0; seriesIndex < 3; seriesIndex++) {
  //   var seriesData = [];
  //   for (var i = 0; i < 3; i++) {
  //     var cate = [];
  //     for (var j = 0; j < 3; j++) {
  //       cate.push(parseInt(Math.random() * 200));
  //     }
  //     console.log(cate)
  //     seriesData.push(cate);
  //   }
  //   // console.log(cate)
  //   console.log(data)
  //   console.log(seriesData)
  //
  //   data.push(echarts.dataTool.prepareBoxplotData(seriesData));
  // }
  data.push(echarts.dataTool.prepareBoxplotData([[1,2,3],[2,3,4],[3,4,5],[6,4,8]]));
  data.push(echarts.dataTool.prepareBoxplotData([[2,2,3],[3,3,4],[4,4,5]]));
  data.push(echarts.dataTool.prepareBoxplotData([[1,2,9],[2,3,9]]));


  // console.log(data)
  // console.log(seriesData)
  // const oldData = {
  //   "-1": [{"userName": "俞国伟", "datas": ["1.15", "2.02", "2.01"]}],
  //   "-3": [{"userName": "相品堂", "datas": ["1.2400", "1.45", "1.7000"]}],
  //   "-5": [{"userName": "黄炳昌", "datas": ["3.70", "3.36", "2.76", "2.87", "2.75", "2.96"]}],
  //   "-6": [{"userName": "梁赞明", "datas": ["1.32", "2.20", "1.50"]}]
  // }

  function handleData() {
    const serArr = [];
    for(let i=0; i<3; i++){
      const ser = {
        name: `category${i}`,
        type: 'boxplot',
        data: data[i].boxData,
        tooltip: {formatter: formatter}
      };
      serArr.push(ser);
    }
    console.log(serArr)
    return serArr;
  }

  option = {
    title: {
      text: 'Multiple Categories',
      left: 'center',
    },
    legend: {
      y: '10%',
      data: ['category0', 'category1', 'category2', 'category3']
    },
    tooltip: {
      trigger: 'item',
      axisPointer: {
        type: 'shadow'
      }
    },
    grid: {
      left: '10%',
      top: '20%',
      right: '10%',
      bottom: '15%'
    },
    xAxis: {
      type: 'category',
      data: data[0].axisData,
      boundaryGap: true,
      nameGap: 30,
      splitArea: {
        show: true
      },
      axisLabel: {
        formatter: 'expr {value}'
      },
      splitLine: {
        show: false
      }
    },
    yAxis: {
      type: 'value',
      name: 'Value',
      min: 0,
      max: 10,
      splitArea: {
        show: false
      }
    },
    dataZoom: [
      {
        type: 'inside',
        start: 0,
        end: 20
      },
      {
        show: true,
        height: 20,
        type: 'slider',
        top: '90%',
        xAxisIndex: [0],
        start: 0,
        end: 20
      }
    ],
    series: handleData(),
  };
  function formatter(param) {
    console.log(param)
    return [
      'Experiment ' + param.name + ': ',
      'upper: ' + param.data[0],
      'Q1: ' + param.data[1],
      'median: ' + param.data[2],
      'Q3: ' + param.data[3],
      'lower: ' + param.data[4]
    ].join('<br/>')
  }
  if (option && typeof option === "object") {
    myChart.setOption(option, true);
  }


</script>
</body>
</html>